---
layout: page
title: Archives by Year
excerpt: "An archive of posts sorted by date."
search_omit: true
# http://reyhan.org/2013/03/jekyll-archive-without-plugins.html
# http://mikerowecode.com/2010/08/jekyll_archives_grouped_by_year.html
---
<section id="archive">
  {%for post in site.posts %}
    {% capture cache %}
    
      {% assign year = post.date | date: '%Y' %}
      {% assign n_year = 2000 %}
      {% assign p_year = 2025 %}
    
      {% if post.next %}
        {% assign n_year = post.next.date | date: '%Y' %}
      {% endif %}

      {% if post.previous %}
        {% assign p_year = post.previous.date | date: '%Y' %}
      {% endif %}
      
      {% assign year_text = nil %}
      {% if post.next %}
        {% if year != n_year %}
          {% assign year_text = year %}
        {% endif %}
      {% else %}
        {% assign year_text = year | prepend: "This year's posts (" | append: ')' %}
      {% endif %}
      
    {% endcapture %} 
    
    {% if year_text %}        
      <div class ="anchor-target archive-year" 
           id="{{ year }}">{{ year_text }}</div>
    {% endif %}
    
    {% if year != n_year %}
    <ul class="archive-item">
    {% endif %}
      <li class="list-content">
        <time>{{ post.date | date:"%d %b" }}</time>        
        <a href="{{ post.url }}">
          <span class="fa fa-pencil"></span>
          {{ post.title }}
        </a>        
      </li>      
    {% if year != p_year %}
    </ul>
    {% endif %}
  {% endfor %}
</section>
